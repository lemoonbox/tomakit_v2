{%extends 'base.html'%}
{%load static from staticfiles%}
{% load v2d1_board_tags %}
{%block style%}
<style>
    body {background:#fff!important;}
    .profile-banner {height:320px;margin:50px auto;font-size:18px;}
    .profile-banner {}
    .nav-tabs {background:#fff;border:none;border-bottom:2px solid #eee;}
    .nav-tabs a {font-size:24px;font-weight:bold;}
    .nav-tabs>li.active>a, .nav-tabs>li.active>a:focus, .nav-tabs>li.active>a:hover
    {border:none;border-bottom:4px solid #FF565A;color:#FF565A;}
    .nav-tabs li{border:none;}
    .nav-tabs>li>a {border:none;color:#CACCCD;}
    .nav-tabs a {border:none;}
    /*#onoff-class {display:none;opacity:0;width:100%;line-height:400px;font-size:18px;font-weight:bold;}*/
    /*#onoff-class:hover {display:block;z-index:500;opacity:1;float:left;}*/
    .img-grid img {max-width:200px;}
    .tmk-card-img:hover {z-index:-3;}
    .card-list li {height:470px;}
    #onoff-class span {color:red;font-weight:bold;}
    /*.tab-content {background:#F9FBFB!important;}*/

    .tmk-demand-info {height:220px;padding:10px;overflow:hidden;margin-bottom:15px;}
    .tmk-demand-info div {margin:25px auto;}


</style>
{%endblock%}
{%block content%}

<div class="col-lg-12 profile-banner">
    <div class="container">
        <div class="img-grid">
            <img src="{{MEDIA_URL}}{{profile_user.t2profile_set.first.pro_pic}}">
        </div>
        <div class="tmk-h2">{{profile_user.last_name}}{{profile_user.first_name}}</div>
        <div>{{profile_user.t2profile_set.first.intro_line}}</div>
    </div>
</div>
<div class="tmk-main-body col-lg-12">
    <div class="container" style="background:#F9FBFB;padding:0;padding-bottom:50px;">

        <!-- Nav tabs -->
        <ul class="nav nav-tabs" role="tablist">
            <li role="presentation" class="active">
                <a href="#class" aria-controls="class" role="tab" data-toggle="tab">개설한 클래스</a>
            </li>
            <li role="presentation">
                <a href="#demand" aria-controls="demand" role="tab" data-toggle="tab">제안한 클래스</a>
            </li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade in active" id="class">
                <div class="card-list" id="card-list">
                    <div id="card-list-wrapper">
                        <ul>
                            <!--<div class="tmk-h3">개설한 클래스</div>-->
                            {% for class in host_classes %}
                            <li class="tmk-class-card col-md-4">


                                <a class="tmk-card-img" href="http://{{HTTP_HOST}}/v2.1/class/{{class.id}}">
                                    <div class="tmk-class-type-label">
                                        <span class="label tmk-label">{{class.classtype}}</span>
                                    </div>
                                    <div class="card-link">
                                        <img id="tmk-card-img" src="{{MEDIA_URL}}{{class.t2classpic_set.first.image}}">
                                    </div>
                                </a>

                                <a class="tmk-card-img-profile">
                                    <div class="card-link">
                                        <img id="tmk-img-pro" src="{{MEDIA_URL}}{{class.user.t2profile_set.first.pro_pic}}">
                                        {%comment%}{{class.user}}{%endcomment%}
                                    </div>
                                </a>

                                <div class="tmk-card-info">
                                    <div class="h4">{{class.title}}</div>
                                    <div>{{class.intro_line}}</div>
                                </div>
                                <div class="dp-label">
                                    <div class="dp-label-left">{{class.repeat}}회 / 수업당 {% widthratio class.repeat 1 class.perhour%}{%comment%}{{class.perhour}}{%endcomment%}시간</div>
                                    <div class="dp-label-right">￦{{class.price}}</div>

                                </div>
                                <a id="onoff-class" href="{% url 'onoff_class_v2d1' class.user.id class.classtype class.id  %}">
                                    {%if class.is_open%}
                                    <span>수업 내리기</span>
                                    {% else %}
                                    <span>수업 열기</span>
                                    {% endif %}
                                </a>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>

            <div role="tabpanel" class="tab-pane fade" id="demand">
                <div class="card-list" id="card-list">
                    <div id="card-list-wrapper">
                        <ul>
                            {% for class in demand_classes %}
                            <li class="tmk-class-card" style="height:380px;">
                                <a href="http://{{HTTP_HOST}}/v2.1/demand/modify/{{class.id}}/" style="color: #565a5C;">
                                    <div class="tmk-demand-info">
                                        <div style="color:#82888A">{{class.category}}</div>
                                        <div class="h4">{{class.title}}</div>
                                        <div class="info-describe" style="white-space: normal;word-break: break-all;">{{class.descript}}</div>
                                    </div>
                                </a>

                                <div class="" style="text-align:left;padding-left:20px;">
                                    <div style="margin:10px auto;height:40px;overflow:hidden;color:#84CDC2;">{{class.demand_post.goal|goaltag2han}}</div>
                                </div>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
</div>
{%endblock%}
{%block script%}
<script>
    //    $('document').ready(function() {
    //    $('.tmk-class-card').hover(
    //            function () {
    //                $('.tmk-card-img').hide();
    //            },
    //            function () {
    //              $('#onoff-class').show();
    //            }
    //    );
    //
    //    });
    //    $('document').ready(function() {
    //        $('.tmk-class-card').onmouseover.show('#onoff-class')
    //    });
    //function show(id) {
    //    document.getElementById('onoff-class').style.visibility = "visible";
    //}
    //function hide(id) {
    //    document.getElementById('onoff-class').style.visibility = "hidden";
    //}
</script>
{%endblock%}